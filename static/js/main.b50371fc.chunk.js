(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},29:function(e,t,a){e.exports=a(47)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(21),c=a.n(s);a(34),a(22),a(35);var o=a(25),r=a(5),l=a(6),d=a(7),m=a(9),u=a(8),p=a(10),f=(a(36),a(37),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"c-header"},i.a.createElement("i",{className:"iconfont icon-icon_chexiao c-header-goBack"}),i.a.createElement("span",{className:"c-header-title"},this.props.title))}}]),t}(n.Component)),h=a(28),v=a(23),g=(a(40),{Accept:"application/json","Content-Type":"application/json;charset=utf-8",mode:"cors"});function b(e){if(e.status>=200&&e.status<300)return e}function E(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Promise.race([fetch(e,t),new Promise(function(e,t){setTimeout(function(){return t(new Error("request timeout"))},3e4)})]).then(b).then(function(e){return e.json()}).catch(function(e){e.name;return{errorCode:1}})}var y=a(24),w=(a(42),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentWillMount=function(){a.setState({display:!a.props.hidden,type:a.props.type||"loading"})},a.componentWillReceiveProps=function(e){e.hidden!==a.props.hidden&&a.setState({display:!e.hidden}),"loading"!=e.type&&(console.log("\u72b6\u6001\u6539\u53d8\uff1a",e.type),a.setState({type:e.type},function(){setTimeout(function(){return a.setState({display:!1,type:"loading"})},3e3)}))},a.state={display:!1,type:"loading"},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.type;return i.a.createElement("div",{className:"c-toast",style:this.state.display?null:{display:"none"}},i.a.createElement("div",{className:"c-toast-p"}),"loading"==e?i.a.createElement("span",{className:"c-toast-loading"},i.a.createElement("i",{className:"iconfont icon-loading c-toast-loading-font"})):"success"==e?i.a.createElement("span",{className:"c-toast-success"},i.a.createElement("i",{className:"iconfont icon-zhengque c-toast-loading-success"})):i.a.createElement("span",{className:"c-toast-error"},i.a.createElement("i",{className:"iconfont icon-icon-icon2 c-toast-loading-error"})))}}]),t}(n.Component)),N=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).send=function(){var e,t,n;a.state.sendMessage||(a.setState({verificaDis:!0,sendMessage:!0},a.countdown),(e="https://easy-mock.com/mock/5b2385e3debe3c5977248a16/wscn/captcha",E(e+(t?"?"+Object(v.stringify)(t):""),{method:"GET",headers:g,credentials:"include"},n)).then(function(e){var t=e.code,n=e.data;200==t&&a.setState({verificaCode:n.captcha,submitDis:!1})}))},a.countdown=function(){var e=a.state,t=e.time,n=e.phone;e.verificaCode;a.setState({time:--t},function(){if(a.state.time>0)setTimeout(a.countdown,1e3);else{/(^1[3|4|5|7|8]\d{9}$)|(^09\d{8}$)/.test(n)?a.setState({verificaDis:!1,time:60,sendMessage:!1}):a.setState({verificaDis:!0,time:60,sendMessage:!1})}})},a.login=function(){var e,t,n,i=a.state,s=i.phone,c=i.verificaCode;a.setState({toastHidden:!1}),(e="https://easy-mock.com/mock/5b2385e3debe3c5977248a16/wscn/submit",t={phone:s,captcha:c},E(e,{method:"POST",headers:Object(h.a)({},g),body:JSON.stringify(t),credentials:"include"},n)).then(function(e){var t=e.code;e.data;200==t&&a.setState({toastType:"success"})})},a.phoneComfirm=function(e){e.persist();var t=e.target.value;!/(^1[3|4|5|7|8]\d{9}$)|(^09\d{8}$)/.test(t)||a.state.sendMessage?a.setState({verificaDis:!0,submitDis:!0,phone:t}):a.setState({verificaDis:!1,phone:t})},a.captchaChange=function(e){e.persist();var t=e.target.value;/^\d{4}$/.test(t)?a.setState({verificaCode:t,submitDis:!1}):a.setState({verificaCode:t,submitDis:!0})},a.componentWillUnmount=function(){a.setState({verificaDis:!0,time:60,sendMessage:!1,submitDis:!0,verificaCode:null,toastHidden:!0,toastType:"loading"})},a.state={verificaDis:!0,time:60,sendMessage:!1,submitDis:!0,verificaCode:null,toastHidden:!0,toastType:"loading"},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.phone,a=e.verificaCode,n=e.verificaDis,s=e.sendMessage,c=e.submitDis,o=e.toastType,r=e.toastHidden;return i.a.createElement("div",{className:"app-login"},i.a.createElement(f,{title:"\u767b\u9646"}),i.a.createElement("div",{className:"app-login-body"},i.a.createElement("h1",null,"Hi,"),i.a.createElement("h1",null,"\u6b22\u8fce\u767b\u9646 XXXX"),i.a.createElement("form",null,i.a.createElement("div",{className:"form"},i.a.createElement("div",{className:"form-input"},i.a.createElement("input",{id:"phone",type:"number",pattern:N?"[0-9]*":"d*",style:a?{width:"100%",background:"#E3E3E3"}:{width:"100%"},onChange:this.phoneComfirm,placeholder:"\u624b\u673a\u53f7",value:t,disabled:!!a}))),i.a.createElement("div",{className:"form"},i.a.createElement("div",{className:"form-input"},i.a.createElement("input",{id:"verification",type:"number",pattern:"\\d*",style:{width:"100%"},placeholder:"\u9a8c\u8bc1\u7801",Value:a,onChange:this.captchaChange})),i.a.createElement("span",{className:"form-input-btn",onClick:n?null:Object(y.debounce)(this.send,300),style:n?{color:"#ccc"}:{color:"rgb(4, 179, 77)"}},s?"\u91cd\u65b0\u53d1\u9001("+this.state.time+"s)":"\u70b9\u51fb\u83b7\u53d6\u9a8c\u8bc1\u7801")),i.a.createElement("button",{className:"form-submit",onClick:c||!a?null:this.login,style:c||!a?{background:"#cccccc"}:void 0},"\u767b\u5f55")),i.a.createElement("div",{className:"login-footer"},i.a.createElement("div",{class:"footer-hr"},i.a.createElement("span",{class:"line"}),i.a.createElement("span",{class:"text"},"\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f"),i.a.createElement("span",{class:"line"})),i.a.createElement("div",{className:"login-footer-content"},i.a.createElement("div",{className:"login-weixin"},i.a.createElement("i",{className:"iconfont icon-weixin"}),i.a.createElement("div",null,"\u5fae\u4fe1\u767b\u9646")))),i.a.createElement(w,{hidden:r,type:o})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(o.a,null,i.a.createElement(r.a,{exact:!0,path:"/login",component:C})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.b50371fc.chunk.js.map